{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";import _get from\"@babel/runtime/helpers/get\";import _inherits from\"@babel/runtime/helpers/inherits\";function _callSuper(t,o,e){return o=_getPrototypeOf(o),_possibleConstructorReturn(t,_isNativeReflectConstruct()?Reflect.construct(o,e||[],_getPrototypeOf(t).constructor):o.apply(t,e));}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t;})();}function _superPropGet(t,o,e,r){var p=_get(_getPrototypeOf(1&r?t.prototype:t),o,e);return 2&r&&\"function\"==typeof p?function(t){return p.apply(e,t);}:p;}import AnimatedNode from\"./AnimatedNode\";import{val}from\"../val\";import ReanimatedModule from\"../../ReanimatedModule\";import invariant from'invariant';function sanitizeValue(value){return value===null||value===undefined||typeof value==='string'?value:Number(value);}var CONSTANT_VALUES=new Map();function initializeConstantValues(){if(CONSTANT_VALUES.size!==0){return;}[0,-1,1,-2,2].forEach(function(v){return CONSTANT_VALUES.set(v,new InternalAnimatedValue(v,true));});}var InternalAnimatedValue=function(_AnimatedNode){function InternalAnimatedValue(value){var _this;var constant=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;_classCallCheck(this,InternalAnimatedValue);invariant(value!==null,'Animated.Value cannot be set to the null');_this=_callSuper(this,InternalAnimatedValue,[{type:'value',value:sanitizeValue(value)}]);_this._startingValue=_this._value=value;_this._animation=null;_this._constant=constant;return _this;}_inherits(InternalAnimatedValue,_AnimatedNode);return _createClass(InternalAnimatedValue,[{key:\"__detach\",value:function __detach(){var _this2=this;if(!this._constant){if(ReanimatedModule.getValue){ReanimatedModule.getValue(this.__nodeID,function(val){return _this2.__nodeConfig.value=val;});}else{this.__nodeConfig.value=this.__getValue();}}this.__detachAnimation(this._animation);_superPropGet(InternalAnimatedValue,\"__detach\",this,3)([]);}},{key:\"__detachAnimation\",value:function __detachAnimation(animation){animation&&animation.__detach();if(this._animation===animation){this._animation=null;}}},{key:\"__attachAnimation\",value:function __attachAnimation(animation){this.__detachAnimation(this._animation);this._animation=animation;}},{key:\"__onEvaluate\",value:function __onEvaluate(){if(this.__inputNodes&&this.__inputNodes.length){this.__inputNodes.forEach(val);}return this._value;}},{key:\"setValue\",value:function setValue(value){this.__detachAnimation(this._animation);this._updateValue(value);}},{key:\"_updateValue\",value:function _updateValue(value){this._value=value;this.__forceUpdateCache(value);}}],[{key:\"valueForConstant\",value:function valueForConstant(number){initializeConstantValues();return CONSTANT_VALUES.get(number)||new InternalAnimatedValue(number,true);}}]);}(AnimatedNode);export{InternalAnimatedValue as default};","map":{"version":3,"names":["AnimatedNode","val","ReanimatedModule","invariant","sanitizeValue","value","undefined","Number","CONSTANT_VALUES","Map","initializeConstantValues","size","forEach","v","set","InternalAnimatedValue","_AnimatedNode","_this","constant","arguments","length","_classCallCheck","_callSuper","type","_startingValue","_value","_animation","_constant","_inherits","_createClass","key","__detach","_this2","getValue","__nodeID","__nodeConfig","__getValue","__detachAnimation","_superPropGet","animation","__attachAnimation","__onEvaluate","__inputNodes","setValue","_updateValue","__forceUpdateCache","valueForConstant","number","get","default"],"sources":["C:/Users/sumanth/Downloads/app/node_modules/react-native-reanimated/lib/reanimated1/core/InternalAnimatedValue.js"],"sourcesContent":["import AnimatedNode from './AnimatedNode';\nimport { val } from '../val';\nimport ReanimatedModule from '../../ReanimatedModule';\nimport invariant from 'invariant';\n\nfunction sanitizeValue(value) {\n  return value === null || value === undefined || typeof value === 'string'\n    ? value\n    : Number(value);\n}\n\nconst CONSTANT_VALUES = new Map();\n\nfunction initializeConstantValues() {\n  if (CONSTANT_VALUES.size !== 0) {\n    return;\n  }\n  [0, -1, 1, -2, 2].forEach((v) =>\n    CONSTANT_VALUES.set(v, new InternalAnimatedValue(v, true))\n  );\n}\n\n/**\n * This class has been made internal in order to omit dependencies' cycles which\n * were caused by imperative setValue and interpolate â€“ they are currently exposed with AnimatedValue.js\n */\nexport default class InternalAnimatedValue extends AnimatedNode {\n  static valueForConstant(number) {\n    initializeConstantValues();\n    return (\n      CONSTANT_VALUES.get(number) || new InternalAnimatedValue(number, true)\n    );\n  }\n\n  constructor(value, constant = false) {\n    invariant(value !== null, 'Animated.Value cannot be set to the null');\n    super({ type: 'value', value: sanitizeValue(value) });\n    this._startingValue = this._value = value;\n    this._animation = null;\n    this._constant = constant;\n  }\n\n  __detach() {\n    if (!this._constant) {\n      if (ReanimatedModule.getValue) {\n        ReanimatedModule.getValue(\n          this.__nodeID,\n          (val) => (this.__nodeConfig.value = val)\n        );\n      } else {\n        this.__nodeConfig.value = this.__getValue();\n      }\n    }\n    this.__detachAnimation(this._animation);\n    super.__detach();\n  }\n\n  __detachAnimation(animation) {\n    animation && animation.__detach();\n    if (this._animation === animation) {\n      this._animation = null;\n    }\n  }\n\n  __attachAnimation(animation) {\n    this.__detachAnimation(this._animation);\n    this._animation = animation;\n  }\n\n  __onEvaluate() {\n    if (this.__inputNodes && this.__inputNodes.length) {\n      this.__inputNodes.forEach(val);\n    }\n    return this._value;\n  }\n\n  // AnimatedValue will override this method to modify the value of a native node.\n  setValue(value) {\n    this.__detachAnimation(this._animation);\n    this._updateValue(value);\n  }\n\n  _updateValue(value) {\n    this._value = value;\n    this.__forceUpdateCache(value);\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}