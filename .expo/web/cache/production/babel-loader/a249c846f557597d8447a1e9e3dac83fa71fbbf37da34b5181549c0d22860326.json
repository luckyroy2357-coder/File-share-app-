{"ast":null,"code":"import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import{Platform}from'expo-modules-core';import{v4 as uuidv4}from'uuid';export default{get name(){return'ExpoDocumentPicker';},getDocumentAsync:function(){var _getDocumentAsync=_asyncToGenerator(function*(_ref){var _ref$type=_ref.type,type=_ref$type===void 0?'*/*':_ref$type,_ref$multiple=_ref.multiple,multiple=_ref$multiple===void 0?false:_ref$multiple;if(!Platform.isDOMAvailable){return{type:'cancel'};}var input=document.createElement('input');input.style.display='none';input.setAttribute('type','file');input.setAttribute('accept',Array.isArray(type)?type.join(','):type);input.setAttribute('id',uuidv4());if(multiple){input.setAttribute('multiple','multiple');}document.body.appendChild(input);return new Promise(function(resolve,reject){input.addEventListener('change',function(){if(input.files){var targetFile=input.files[0];var mimeType=targetFile.type;var reader=new FileReader();reader.onerror=function(){reject(new Error(\"Failed to read the selected media because the operation failed.\"));};reader.onload=function(_ref2){var target=_ref2.target;var uri=target.result;resolve({type:'success',uri:uri,mimeType:mimeType,name:targetFile.name,file:targetFile,lastModified:targetFile.lastModified,size:targetFile.size,output:input.files});};reader.readAsDataURL(targetFile);}else{resolve({type:'cancel'});}document.body.removeChild(input);});var event=new MouseEvent('click');input.dispatchEvent(event);});});function getDocumentAsync(_x){return _getDocumentAsync.apply(this,arguments);}return getDocumentAsync;}()};","map":{"version":3,"names":["Platform","v4","uuidv4","name","getDocumentAsync","_getDocumentAsync","_asyncToGenerator","_ref","_ref$type","type","_ref$multiple","multiple","isDOMAvailable","input","document","createElement","style","display","setAttribute","Array","isArray","join","body","appendChild","Promise","resolve","reject","addEventListener","files","targetFile","mimeType","reader","FileReader","onerror","Error","onload","_ref2","target","uri","result","file","lastModified","size","output","readAsDataURL","removeChild","event","MouseEvent","dispatchEvent","_x","apply","arguments"],"sources":["C:\\Users\\sumanth\\Downloads\\app\\node_modules\\expo-document-picker\\src\\ExpoDocumentPicker.web.ts"],"sourcesContent":["import { Platform } from 'expo-modules-core';\nimport { v4 as uuidv4 } from 'uuid';\n\nimport { DocumentPickerOptions, DocumentResult } from './types';\n\nexport default {\n  get name(): string {\n    return 'ExpoDocumentPicker';\n  },\n\n  async getDocumentAsync({\n    type = '*/*',\n    multiple = false,\n  }: DocumentPickerOptions): Promise<DocumentResult> {\n    // SSR guard\n    if (!Platform.isDOMAvailable) {\n      return { type: 'cancel' };\n    }\n\n    const input = document.createElement('input');\n    input.style.display = 'none';\n    input.setAttribute('type', 'file');\n    input.setAttribute('accept', Array.isArray(type) ? type.join(',') : type);\n    input.setAttribute('id', uuidv4());\n    if (multiple) {\n      input.setAttribute('multiple', 'multiple');\n    }\n\n    document.body.appendChild(input);\n\n    return new Promise((resolve, reject) => {\n      input.addEventListener('change', () => {\n        if (input.files) {\n          const targetFile = input.files[0];\n          const mimeType = targetFile.type;\n          const reader = new FileReader();\n          reader.onerror = () => {\n            reject(new Error(`Failed to read the selected media because the operation failed.`));\n          };\n          reader.onload = ({ target }) => {\n            const uri = (target as any).result;\n            resolve({\n              type: 'success',\n              uri,\n              mimeType,\n              name: targetFile.name,\n              file: targetFile,\n              lastModified: targetFile.lastModified,\n              size: targetFile.size,\n              output: input.files,\n            });\n          };\n          // Read in the image file as a binary string.\n          reader.readAsDataURL(targetFile);\n        } else {\n          resolve({ type: 'cancel' });\n        }\n\n        document.body.removeChild(input);\n      });\n\n      const event = new MouseEvent('click');\n      input.dispatchEvent(event);\n    });\n  },\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}